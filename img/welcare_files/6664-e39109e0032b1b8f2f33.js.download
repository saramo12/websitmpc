(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6664],{56664:function(e,t,n){"use strict";n.d(t,{Z:function(){return oe}});var i=n(85893),r=n(6610),o=n(5991),a=n(63349),c=n(65255),s=n(46070),d=n(77608),l=n(96156),u=n(67294),m=n(14494),p=n(11752),f=n(544),v=n(88079),g=n(19525),h=n(80023),x=n(88827),w=n(59e3),y=n(19706),R=n(32465),Z=n(58804);function b(){var e=(0,R.Z)(["\n    font-size: 12px;\n  "]);return b=function(){return e},e}function C(){var e=(0,R.Z)(["\n    margin-left: 0;\n    margin-right: 0;\n    font-size: 16px;\n  "]);return C=function(){return e},e}function P(){var e=(0,R.Z)(["\n    margin-left: 1px;\n    margin-right: 1px;\n    font-size: 23px;\n  "]);return P=function(){return e},e}function D(){var e=(0,R.Z)(["\n      max-width: 65%;\n  "]);return D=function(){return e},e}function S(){var e=(0,R.Z)(["\n    width: calc(100% - 20px);\n  "]);return S=function(){return e},e}function _(){var e=(0,R.Z)(["\n    width: calc(100% + 40px);\n  "]);return _=function(){return e},e}function j(){var e=(0,R.Z)(["\n    transform: ",";\n    ","\n  "]);return j=function(){return e},e}function k(){var e=(0,R.Z)(["\n    border: 4px solid #fff;\n    border-top: 4px solid ",";\n    margin-top: 30px;\n    margin-bottom: 10px;\n  "]);return k=function(){return e},e}function N(){var e=(0,R.Z)(["\n    margin: auto;\n  "]);return N=function(){return e},e}var I=Z.ZP.div.withConfig({displayName:"DoctorReviewsstyle__MainReviewConatiner",componentId:"sc-o1mk5u-0"})(["text-align:center;margin:",";",";"],(function(e){return"ltr"===e.theme.direction?"0 0 0 -35px":"0 -35px 0 0"}),(function(e){return e.theme.media.phone(N())})),L=Z.ZP.div.withConfig({displayName:"DoctorReviewsstyle__BigText",componentId:"sc-o1mk5u-1"})(["color:#747470;font-size:18px;margin-top:10px;margin-bottom:5px;"]),O=(0,Z.iv)(["margin-bottom:0px;"]),z=(0,Z.iv)(["font-size:29px;margin-left:10px;"]),B=(0,Z.iv)(["font-size:19px;margin-left:",";margin-right:",";"],(function(e){return"ltr"===e.theme.direction?"0":"5px"}),(function(e){return"ltr"===e.theme.direction?"5px":"0"})),E=(0,Z.iv)(["font-size:17px;"]),F=(0,Z.iv)(["border:5px solid #fff;border-top:5px solid ",";width:40px;height:40px;margin-top:40px;margin-bottom:15px;",";"],(function(e){return e.theme.primary}),(function(e){var t=e.theme;return t.media.phone(k(),t.primary)})),T=Z.ZP.div.withConfig({displayName:"DoctorReviewsstyle__FullWidth",componentId:"sc-o1mk5u-2"})(["width:calc(100% + 60px);transform:",";",";",""],(function(e){return"ltr"===e.theme.direction?"translateX(-60px)":"translateX(60px)"}),(function(e){return e.theme.media.phone(j(),"ltr"===e.theme.direction?"translateX(-20px)":"translateX(20px)",(function(e){return e.entity?"\n      transform: translateX(0px);\n    ":""}))}),(function(e){return e.entity?"\n    width: 100%;\n    transform: translateX(0px);\n  ":""})),M=(0,Z.ZP)(T).withConfig({displayName:"DoctorReviewsstyle__Divider",componentId:"sc-o1mk5u-3"})(["margin-top:40px;height:20px;background:#f5f5f5;border-bottom:1px solid #dadada;width:calc(100% + 85px);",";"],(function(e){return e.theme.media.phone(_())})),X=(0,Z.ZP)(T).withConfig({displayName:"DoctorReviewsstyle__ReviewContainer",componentId:"sc-o1mk5u-4"})(["color:#747470;width:calc(100% + 25px);"," ",";"],(function(e){var t=e.entity;e.theme;return t?"\n    width: 100%;\n    border-bottom:none;\n  ":"\n    border-bottom: 1px solid #dadada;\n    padding: 15px 30px;\n    width: calc(100% + 25px);\n  "}),(function(e){var t=e.theme;return!e.entity&&t.media.phone(S())})),A=Z.ZP.div.withConfig({displayName:"DoctorReviewsstyle__ReviewHeader",componentId:"sc-o1mk5u-5"})(["font-size:14px;margin:8px 0 18px 0;display:grid;grid-template-columns:66.66% 33.33%;max-height:20px;",""],(function(e){return e.entityHeader?"\n  font-weight:700;  \n  max-height: unset;\n  ":""})),W=Z.ZP.div.withConfig({displayName:"DoctorReviewsstyle__ReviewComment",componentId:"sc-o1mk5u-6"})([""," "," font-size:13px;font-weight:400;"],(function(e){return!e.entityProfile&&"\n    max-width: 70%;\n  "}),(function(e){var t=e.entityProfile,n=e.theme;return!t&&n.media.phone(D())})),H=Z.ZP.div.withConfig({displayName:"DoctorReviewsstyle__PatientData",componentId:"sc-o1mk5u-7"})(["direction:ltr;font-size:12px;margin-top:8px;"]),Y=Z.ZP.div.withConfig({displayName:"DoctorReviewsstyle__ReviewDate",componentId:"sc-o1mk5u-8"})(["font-size:11px;margin-bottom:5px;",""],(function(e){return e.entityReviewDate?"\n    margin-bottom: 0px;\n    ".concat("ltr"===e.theme.direction?"\n    float:right;":"\n    float:left;\n    ","\n    "):""})),U=Z.ZP.div.withConfig({displayName:"DoctorReviewsstyle__ShowMore",componentId:"sc-o1mk5u-9"})(["color:",";cursor:pointer;width:100%;text-align:center;font-size:14px;margin-top:25px;"],(function(e){return e.theme.primary?e.theme.primary:"#0070cd"})),V=Z.ZP.span.withConfig({displayName:"DoctorReviewsstyle__DetailedReviewsContainer",componentId:"sc-o1mk5u-10"})(["display:grid;grid-template-columns:33.33% 33.33% 33.33%;margin-top:20px;align-items:baseline;"]),G=Z.ZP.span.withConfig({displayName:"DoctorReviewsstyle__SubReview",componentId:"sc-o1mk5u-11"})([""]),K=(0,Z.iv)(["margin-top:0;border-radius:0 0 12px 12px;padding:0px;width:100%;"]),$=(0,Z.iv)(["",";",";"],(function(e){return e.theme.media.tablet(P())}),(function(e){return e.theme.media.phone(C())})),q=Z.ZP.span.withConfig({displayName:"DoctorReviewsstyle__SubRatingTitle",componentId:"sc-o1mk5u-12"})(["display:block;margin:auto;color:#747470;font-size:14px;margin-top:10px;text-align:center;",";"],(function(e){return e.theme.media.phone(b())})),J=Z.ZP.span.withConfig({displayName:"DoctorReviewsstyle__BlueBox",componentId:"sc-o1mk5u-13"})(["background:",";color:",";border-radius:5px;text-align:center;display:block;font-size:16px;direction:ltr;padding:3px 10px;font-family:SourceSansPro;width:max-content;margin:auto;}"],(function(e){return e.theme.primary}),(function(e){return e.theme.primaryOverlay})),Q=Z.ZP.span.withConfig({displayName:"DoctorReviewsstyle__RatingText",componentId:"sc-o1mk5u-14"})(["font-size:18px;font-weight:600;",";"],(function(e){return e.large?"font-size: 25px;":""})),ee=Z.ZP.div.withConfig({displayName:"DoctorReviewsstyle__EntityReviewsDivider",componentId:"sc-o1mk5u-15"})(["height:25px;border-bottom:1px solid #e2e6ea;margin-bottom:20px;"]),te=Z.ZP.p.withConfig({displayName:"DoctorReviewsstyle__NoReviews",componentId:"sc-o1mk5u-16"})(["text-align:center;color:#747470;font-size:18px;"]);function ne(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,d.Z)(e);if(t){var r=(0,d.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,s.Z)(this,n)}}var ie=(0,p.default)().publicRuntimeConfig.countries.countriesWithDetailedPatientReviewsIndoctorProfileEnabled,re=function(e){(0,c.Z)(n,e);var t=ne(n);function n(e){var o;return(0,r.Z)(this,n),o=t.call(this,e),(0,l.Z)((0,a.Z)(o),"getReviews",(function(){var e=o.props,t=e.entityListingKey,n=e.RatingsCount,i=o.state,r=i.page,a=i.reviews,c=i.hidenReviewersNamesCount;if(!i.allReviewsLoaded){o.setState({isLoading:!0});var s=!1;(0,g.getDoctorReviews)(r,t,c).then((function(e){if(e&&e.data){var t=a.concat(e.data.reviews);(t.length>=n||e.data.LoadingFinished||!e.data.reviews||0===e.data.reviews.length)&&(s=!0),o.setState({reviews:t,isLoading:!1,hidenReviewersNamesCount:e.data.hidenReviewersNamesCount,allReviewsLoaded:s}),o.updatePage(r+1)}})).catch((function(e){return console.log(e)}))}})),(0,l.Z)((0,a.Z)(o),"isBottom",(function(e){return!!e&&e.getBoundingClientRect().bottom<=window.innerHeight})),(0,l.Z)((0,a.Z)(o),"trackScrolling",(function(){var e=document.getElementById("patients-reviews"),t=o.props,n=t.getEntityReviews,i=t.entity,r=o.state,a=r.page,c=r.entityReviewsPage;o.isBottom(e)&&(2!==a||i||o.getReviews(),1===c&&i&&n(),document.removeEventListener("scroll",o.trackScrolling))})),(0,l.Z)((0,a.Z)(o),"updatePage",(function(e){var t=0;void 0!==e&&null!==e?t=e:t=o.state.page+1;o.setState({page:t})})),(0,l.Z)((0,a.Z)(o),"generateReviewDateText",(function(e){var t=o.props.t;return null!==e&&void 0!==e&&e.createdOn?"Today"===(0,v.todayOrYesterday)(e.createdOn)?t("today"):"Yesterday"===(0,v.todayOrYesterday)(e.createdOn)?t("yesterday"):e.dateOfReview:""})),(0,l.Z)((0,a.Z)(o),"renderReviews",(function(){var e=o.props,t=e.t,n=e.entityReviews;return 0===n.length?(0,i.jsx)(te,{children:t("entityNoReviews")}):n.map((function(e){return(0,i.jsxs)(u.Fragment,{children:[(0,i.jsx)(ee,{}),(0,i.jsxs)(X,{entity:!0,children:[(0,i.jsx)(Y,{entityReviewDate:!0,children:o.generateReviewDateText(e)}),(0,i.jsx)(H,{children:e.patientData}),(0,i.jsx)(h.Z,{extendStarStyle:E,ratingColor:"#f0b61e",rating:e.rating}),(0,i.jsx)(A,{entityHeader:!0,children:"".concat(t("entityReviewsBody"),"\n              ").concat(e.doctorData?e.doctorData.name:""," - \n              ").concat(e.doctorData?e.doctorData.specialityName:"")}),e&&e.comment?(0,i.jsx)(W,{entityProfile:!0,children:'"'.concat(e.comment,'"')}):""]})]},e.createdOn)}))})),(0,l.Z)((0,a.Z)(o),"renderEntityReviews",(function(){return(0,i.jsx)(w.Z,{id:"patients-reviews",extendStyle:K,children:o.renderReviews()})})),(0,l.Z)((0,a.Z)(o),"renderPatientReview",(function(e,t,n){var r=o.props.t;return e?(0,i.jsxs)(X,{children:[(0,i.jsx)(h.Z,{extendStarStyle:B,ratingColor:"#f0b61e",rating:e.rating}),(0,i.jsxs)(A,{children:[r("overAllRating"),n&&e.doctorRating?o.renderSubReviewBlueBox(e.doctorRating,!1):""]}),e.comment&&e.comment.length?(0,i.jsx)(W,{children:"'".concat(e.comment,"'")}):"",(0,i.jsx)(H,{children:"".concat(e.patientData," ").concat(e.patientAge)}),(0,i.jsx)(Y,{children:"".concat(e.dateOfReview)})]},t):""})),(0,l.Z)((0,a.Z)(o),"renderSubReview",(function(e,t,n,r){return(0,i.jsx)(G,{children:n?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(h.Z,{extendStarStyle:$,ratingColor:"#f0b61e",rating:e}),(0,i.jsx)(q,{children:t})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(J,{children:[(0,i.jsx)(Q,{large:!r,children:e?e.toString():""})," ",r?" /5":""]}),(0,i.jsx)(q,{children:t})]})})})),(0,l.Z)((0,a.Z)(o),"renderSubReviewBlueBox",(function(e,t){var n=o.props,i=n.ShowNoMedicineIcon,r=n.t;return o.renderSubReview(e,"".concat(r(i?"therapistRatingPrefix":"doctorRatingPrefix")," ").concat(r("rating")," ").concat(r(i?"therapistRatingSuffix":"doctorRatingSuffix")),!1,t)})),o.state={page:1,reviews:[],isLoading:!0,hidenReviewersNamesCount:0,allReviewsLoaded:!1,entityReviewsPage:1,reviewsInitiallyLoaded:!1},o}return(0,o.Z)(n,[{key:"componentDidMount",value:function(){document.addEventListener("scroll",this.trackScrolling)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("scroll",this.trackScrolling)}},{key:"render",value:function(){var e=this,t=this.props,n=t.t,r=t.RatingsCount,o=t.OverallPercentage,a=t.country,c=t.AdminOverallRating,s=t.FacilityOverallRating,d=t.DoctorOverallRating,l=t.entity,u=this.state,m=u.reviews,p=u.isLoading,f=u.allReviewsLoaded,v=!!(a&&a.IsoCode&&ie&&ie.length&&ie.includes(a.IsoCode.toLowerCase()));return(0,i.jsx)(i.Fragment,{children:l?this.renderEntityReviews():(0,i.jsxs)(y.Z,{id:"patients-reviews",title:"".concat(n("patientsReview")," :"),icon:"'\\e906'",extendStyle:O,flipIconOnRTL:!0,children:[(0,i.jsxs)(I,{children:[(0,i.jsx)(h.Z,{extendStarStyle:z,ratingColor:"#f0b61e",rating:o}),(0,i.jsx)(L,{children:n("overAllRating")}),(0,i.jsx)("div",{children:"".concat(n("common:from")," ").concat(n("common:number",{number:r&&r.toString()})," ").concat(n(r>1?"common:WhoVisitedDr":"common:aSingleWhoVisitedDr"))}),v?(0,i.jsxs)(V,{children:[this.renderSubReview(c,n("assistantRating"),!0),this.renderSubReview(s,n("clinicRating"),!0),this.renderSubReviewBlueBox(d,!0)]}):""]}),(0,i.jsx)(M,{}),m?m.map((function(t,n){return e.renderPatientReview(t,n,v)})):"",p&&!f&&(0,i.jsx)(x.Z,{extendStyle:F})||!f&&(0,i.jsx)(U,{onClick:function(){return e.getReviews()},children:n("common:viewMore")})||""]})})}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(e.entityReviewsPage===t.entityReviewsPage)return{entityReviewsPage:e.entityReviewsPage};if(!1===t.reviewsInitiallyLoaded&&e.doctorProfileReviews.status===f.status.SUCCESS){var n=e.doctorProfileReviews,i=e.RatingsCount,r=n.reviews,o=!1;return(r.length>=i||n.LoadingFinished||!r||0===r.length)&&(o=!0),{reviewsInitiallyLoaded:!0,reviews:r,isLoading:!1,hidenReviewersNamesCount:n.hidenReviewersNamesCount,allReviewsLoaded:o,page:2}}return null}}]),n}(u.Component);re.defaultProps={RatingsCount:0,OverallPercentage:5,AdminOverallRating:5,FacilityOverallRating:5,DoctorOverallRating:5,ShowNoMedicineIcon:!1,country:{IsoCode:"EG"}};var oe=(0,m.$j)((function(e){return{doctorProfileReviews:e.profiles.doctorProfileReviews}}))(re)}}]);